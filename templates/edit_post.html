{{define "edit_post.html"}}
    {{template "header" .}}

    <div class="back-button-container">
        <a href="/category/{{.Category.ID}}"><button class="back-button">
            ‚Üê Back
        </button></a>
    </div>
    <div class="post-form-container">
        <h2>Edit Post</h2>
        <form class="post-form" method="POST">
            <input type="hidden" name="cat" value="{{$.Category.ID}}">
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" id="title" name="title" value="{{.Post.Title}}" required>
            </div>
            <div class="form-group">
                <label for="content">Content:</label>
                <textarea id="content" name="content" required>{{.Post.Content}}</textarea>
            </div>
            <div class="form-group">
                <label>Categories:</label>
                <div class="categories-select">
                    {{range .Categories}}
                    {{- $categoryName := .Name}} 
                        <label class="category-option">
                            <input type="checkbox" name="categories" value="{{.ID}}"
                                {{range $.Post.Categories}}
                                    {{if eq . $categoryName}}checked{{end}}
                                {{end}}>
                            {{.Name}}
                        </label>
                    {{end}}
                </div>
            </div>
            <button type="submit">Update Post</button>
        </form>
    </div>
    {{template "footer" .}}
{{end}} 